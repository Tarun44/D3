<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">

<title>USing Defered Method of AJAX Call</title>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!-- For adding the styles of Data-tables -->
<link rel="stylesheet" href="//cdn.datatables.net/1.10.13/css/jquery.dataTables.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<!-- For Adding the Javasript of Data-tables -->
<script src="//cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script> 

</head>
<body>
	<h1>About Defered call of AJAX</h1>
	
	

<!--	<script>
// 	var dfd = $.ajax({
//   ulr:"https://www.gmail.com",
//   context:document.body, 
// });

// // dfd.done(function(){
// //  $('body').append('<p>AJAX success-1</p>');
// // });

// // dfd.done(function(){
// //  $('body').append('<p>AJAX success-2</p>');
// // });

// // dfd.fail(function(){
// // $('body').append('<p>Ajax failed message </p>');
// // });

// dfd.then(function(){
// 	$('body').append('<p> Ajax success with deferred !</p>');
// },
// function(){
// 	$('body').append('<p> Ajax fails with deferred ! </p>');
// });

// dfd.always(function(){
// 	$('body').append('<p>AJAX complete always come</p>');
// });
// 	</script>-->
<script>
	$.doit=function(){
		var dfd = $.Deferred();
		var randomNumber = Math.floor(Math.random() * 100);
		if(randomNumber%2==0){
		// setTimeout(dfd.reject,4000);
		 dfd.resolve(randomNumber);
		 }
		 else{
		 	dfd.reject(randomNumber);
		 }
		// dfd.reject();
		return dfd;
	}
	
	$.doit().then(function(num){
		$('body').append('<p>Successfull Message '+ num +' is even number</p>');
	},
	function(num){
		$('body').append('<p>Failure Message ' +num + ' is not even number</p>');
	});
</script>
</body>