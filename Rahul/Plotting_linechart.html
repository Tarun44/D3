<!DOCTYPE>
<html>
<head>
<title>Understanding the Line Chart - II </title>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!--Including the D3.js Library-->
<script src="https://d3js.org/d3.v3.min.js"></script>
<style>
	svg{
		background-color: beige;
		margin:150px;
	}
	path {
				stroke: steelblue;
				stroke-width: 1;
				fill: none;
			}
</style>
</head>
<body>
	<h1 class="text-center text-success">Understanding the Line Charts </h1>
	<script>
		

		var myData = d3.json("https://api.myjson.com/bins/h4shp",function(data){
			console.log(data)
					plotchart(data);
			});

		function plotchart(data){
			// console.log(data);


		var width 	 = 1000;
		var height 	 = 900;
		
		var t_margin = 50;
		var r_margin = 50;
		var b_margin = 50;
		var l_margin = 50;

		var x = d3.scale.linear()
						.domain([0,data.length])
						.range([0,width-(l_margin+r_margin)]);

		var y = d3.scale.linear()
						.domain([0,d3.max(data,function(d){
							// sconsole.log(d.y);
							return d.y
						})
						])
						.range([height-(t_margin+b_margin),0]);
						// console.log(height-(t_margin+b_margin))


		var xAxis = d3.svg.axis()
							.scale(x)
							.ticks(8)
							.orient("bottom");

		var yAxis = d3.svg.axis()
							.scale(y)
							.ticks(10)
							.tickFormat(d3.format('.2f'))
							.orient("left");	

		var line = d3.svg.line()

						.x(function(d,i){
								// console.log (x(d.x));
					  	return x(d.x);
					  })

					  .y(function(d,i){
					  	// console.log (y(d.y));
					  	return y(d.y);
					  });					

		var canvas = d3.select("body")
						.append("svg")
						.attr("width",width)
						.attr("height",height);

						canvas.append("g")
						.attr("transform","translate("+l_margin+","+(height-r_margin)+")")
						.call(xAxis)
						
						canvas.append("g")
						.attr("transform","translate("+l_margin+","+r_margin+")")
						.call(yAxis);							

						canvas.append("g").append("svg:path").attr("transform","translate("+l_margin+","+r_margin+")").attr("d", line(data));
			
			}	
	</script>

</body>
</html>
